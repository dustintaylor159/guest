const query=document.querySelector.bind(document),queryAll=document.querySelectorAll.bind(document),headerFaq=query(".Content h2#faq"),tocFaq=query(".SidebarTOC__item a[href*=faq]"),sidebarTOC=query(".SidebarTOC"),signupSidebar=query(".Signup__sidebar");if(null!==headerFaq&&null===tocFaq&&window.innerWidth>1380&&null!==sidebarTOC){const e='<li class="SidebarTOC__item SidebarTOC__item--h2"><a href="#faq">FAQ</a></li>';document.querySelector(".SidebarTOC__content").insertAdjacentHTML("beforeend",e)}const headerItems=queryAll(".SidebarTOC__item--h3").length>0?queryAll(".Content > h2[id], .Content > h3[id]"):queryAll(".Content > h2[id]"),tocItems=queryAll(".SidebarTOC__item a"),treshold=96,headerHeight=query(".Header").clientHeight+96,shareIcons=query(".BlogPost__share-sidebar"),scrollSidebarsElement=queryAll("[data-scrollsidebars]"),tocSlider=query(".SidebarTOC__slider");let slider=null;const mql=window.matchMedia("(min-width: 1380px)");function tocRemoveActive(){tocItems.forEach((e=>{e.classList.remove("active")}))}function loadImg(e){"IMG"!==e.tagName||"PICTURE"!==e.parentElement.tagName||e.hasAttribute("laprocessing")||(e.setAttribute("laprocessing","y"),e.parentElement.childNodes.forEach((e=>{loadImg(e)})),e.removeAttribute("laprocessing")),e.hasAttribute("data-srcset")&&(e.setAttribute("srcset",e.getAttribute("data-srcset")),e.removeAttribute("data-srcset")),e.hasAttribute("data-src")&&(e.setAttribute("src",e.getAttribute("data-src")),e.removeAttribute("data-src")),e.style.opacity="1"}function activateSidebars(){let e;if(null!==sidebarTOC&&(window.addEventListener("load",(()=>{if(null!==queryAll("[data-src]:not(script)")){document.querySelectorAll("[data-src]:not(script)").forEach((e=>{loadImg(e)}))}})),tocItems.forEach(((e,t)=>{const s=e;s.dataset.number=t,s.addEventListener("click",(()=>{tocRemoveActive(),s.classList.add("active"),setTimeout((()=>{window.scrollBy(0,-96)}),1e3)}))})),tocItems.length>8&&(tocItems.forEach((e=>{e.parentElement.classList.add("splide__slide")})),null!==tocSlider))){let e=0;for(let t=0;t<=8;t+=1)e+=tocItems[t].clientHeight;slider=new Splide(tocSlider,{direction:"ttb",height:e+16,autoWidth:!0,arrowPath:"M40,30H0l20-20L40,30z",perMove:8,speed:400,pagination:!1,arrows:!0,trimspace:!1}).mount();const t=query(".SidebarTOC .splide__track");window.addEventListener("load",(()=>{setTimeout((()=>{t.style.height=`${t.clientHeight+8}px`}),100)})),mql.addEventListener("change",(e=>{e.matches&&setTimeout((()=>{t.style.height=`${t.clientHeight+8}px`}),100)})),slider.on("active",(()=>{const e=query(".SidebarTOC .splide__arrow--prev"),t=query(".SidebarTOC .splide__arrow--next");!0===e.disabled&&(query(".SidebarTOC .splide__arrows").classList.add("is-first"),query(".SidebarTOC .splide__arrows").classList.remove("is-last")),slider.on("moved",(()=>{!0===t.disabled&&(query(".SidebarTOC .splide__arrows").classList.remove("is-first"),query(".SidebarTOC .splide__arrows").classList.add("is-last")),!0===e.disabled&&(query(".SidebarTOC .splide__arrows").classList.add("is-first"),query(".SidebarTOC .splide__arrows").classList.remove("is-last")),!1===e.disabled&&!1===t.disabled&&(query(".SidebarTOC .splide__arrows").classList.remove("is-first"),query(".SidebarTOC .splide__arrows").classList.remove("is-last"))}))}))}window.addEventListener("scroll",(()=>{window.clearTimeout(e),null!==shareIcons&&(shareIcons.classList.add("inactive"),shareIcons.classList.remove("scrolled"),scrollSidebarsElement.forEach((e=>{e.getBoundingClientRect().top-217<window.innerHeight&&shareIcons.classList.add("scrolled")}))),null!==sidebarTOC&&(headerItems.forEach((e=>{if(e.getBoundingClientRect().top<=headerHeight){const t=e.getAttribute("id"),s=query(`.SidebarTOC a[href*=${t}`);tocRemoveActive(),s.classList.add("active")}})),sidebarTOC.classList.remove("scrolled"),signupSidebar&&signupSidebar.classList.remove("scrolled"),scrollSidebarsElement.forEach((e=>{e.getBoundingClientRect().top-217<window.innerHeight&&(sidebarTOC.classList.add("scrolled"),signupSidebar&&signupSidebar.classList.add("scrolled"))}))),e=setTimeout((()=>{if(null!==shareIcons&&shareIcons.classList.remove("inactive"),tocItems.length>8){const e=query(".SidebarTOC a.active"),t=query(".Content h2:first-of-type").getBoundingClientRect().top;t<headerHeight&&null!==e&&slider.go(e.dataset.number,!0),t>headerHeight&&null!==e&&(e.classList.remove("active"),slider.go(0))}}),750)}),!1)}mql.matches&&activateSidebars(),mql.addEventListener("change",(e=>{e.matches&&activateSidebars()}));